<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cart</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');

        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: "Roboto", sans-serif;
        }

        :root {
            --back-color1: rgb(244, 238, 255);
            --back-color-light: rgba(244, 238, 255, 0.9);
            --back-color2: rgb(166, 177, 225);
            --text-color: rgb(66, 72, 116);
            --text-color-light: rgba(223, 225, 232, 0.94);
            --text-color-dark: rgb(49, 54, 93);
        }

        html,
        body {
            width: 100%;
            height: 100%;
            text-transform: capitalize;
            background: linear-gradient(to bottom right, var(--back-color1), var(--back-color2));
        }


        .container {
            width: 100%;
            height: 100%;
            max-width: 1536px;
            margin: auto;
            height: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
            color: var(--text-color);
            background: linear-gradient(to bottom right, var(--back-color1), var(--back-color2));
            padding: 20px;
            padding-bottom: 0px;
            padding-top: 10px;
            min-height: 100%;
        }

        nav {
            display: flex;
            flex-direction: row;
            width: 100%;
            align-items: center;
            justify-content: space-between;
        }

        .left-sec {
            display: flex;
            gap: 5px;
            width: 50%;
            align-items: center;
        }

        .left-sec img {
            height: 60px;
            width: 60px;
            scale: 1.3;
        }

        .left-sec h1 {
            font-size: 1.9rem;
        }

        .right-sec {
            width: 50%;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding-right: 10px;
        }

        .right-sec a {
            text-decoration: none;
            font-size: 1.15rem;
            width: auto;
        }


        .item {
            width: 75%;
            height: 100%;
            min-height: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
            border: 2px solid var(--text-color);
            border-radius: 25px;
            padding: 30px;
            gap: 30px;
            background-color: var(--back-color-light);
        }

        .wrap {
            display: flex;
            gap: 25px;
            width: 100%;
            height: 100%;
        }

        .nocart-div {
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
            background-color: var(--back-color-light);
        }

        .total {
            width: 25%;
            border: 2px solid var(--text-color);
            border-radius: 25px;
            display: flex;
            align-items: center;
            flex-direction: column;
            height: 60%;
            min-height: 50%;
            padding: 20px 0px;
            background-color: var(--back-color-light);
        }



        .product {
            height: 10vh;
            min-height: 10vh;
            width: 100%;
            background-color: var(--back-color1);

        }



        .bill {
            display: flex;
            gap: 10px;
            flex-direction: column;
            margin-top: 20px;
            font-size: 20px;
            width: 100%;
            padding: 0px 10px;
        }

        .item-count,
        .save,
        .othercharge,
        .lastvalue {
            display: flex;
            justify-content: space-between;
            width: 100%;
            border: 1px solid var(--text-color);
            border-radius: 20px;
            padding: 3px 5px;

        }

        .line {
            width: 100%;
            height: 2px;
            background-color: var(--text-color);
            margin: 0px, 20px;
        }

        /* product card css code */

        .cart-product {
            height: 200px;
            width: 100%;
            display: flex;
            gap: 10px;
            overflow: hidden;
            min-height: 20vh;
            justify-content: space-between;
            font-size: 1.4rem;
            position: relative;
        }

        .left-cart {
            height: 100%;
            width: 80%;
            display: flex;
            overflow: hidden;

        }
        .left-cart a{
            object-fit: cover;
            height: 100%;
            width: 25%;
            border-radius: 15px;
            overflow: hidden;
        }

        a #image-cart {
            height: 100%;
            width: 100%;
            scale: 1.3;
            object-fit: cover;
        }

        .partision {
            height: 100%;
            width: 2px;
            margin-left: 5px;
            background-color: var(--text-color);
        }

        .name-part {
            height: 100%;
            width: auto;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 2vh 0px;
            margin-left: 5px;
        }


        .name-part button {
            width: auto;
            align-self: self-start;
            padding: 5px 0px;
            font-size: 1.5rem;
            text-transform: capitalize;
            border: none;
            font-weight: 700;
            background-color: transparent;
            color: var(--text-color);
        }

        .price-sec {
            height: 100%;
            display: flex;
            width: auto;
            padding: 2vh 0px;
        }

        .price-sec span {
            font-size: 1.65rem;
            font-weight: 600;
        }

        #chaeckout {
            height: 35px;
            width: 90%;
            border-radius: 25px;
            font-size: 1.5rem;
            color: var(--back-color1);
            background-color: var(--text-color);
            margin: auto;
            margin-top: 5px;
        }

        @media screen and (max-width:1280px) {
            .item {
                width: 70%;
            }

            a #image-cart {
                scale: 1.1;
            }

            .name-part h3{
                font-size: 1.8rem;
                font-weight: 600;
            }

            .price-sec span {
                font-size: 1.6rem;
                font-weight: 600;
            }

            .total {
                width: 30%;
            }
            }

            @media screen and (max-width:1080px) {
               .cart-product{
                height: 200px;
               }
                a #image-cart {
                scale: 1.1;
                height: 100%;
                width: 100%;
            }
            a{
                width: 40%;
                height: 100%;
            }

            }

            @media screen and (max-width:980px) {
                .left-sec img{
                    height: 80px;
                    width: 80px;
                    scale: 1.4;
                }
                .left-sec h1{
                    font-size: 2rem;
                }
                .left-cart a{
                    width: 30%;
                }
                .right-sec h4{
                    font-size: 1.5rem;
                }
                
                .wrap{
                    flex-wrap: wrap;
                }
                .item{
                    width: 100%;
                }
                .total{
                    width: 100%;
                    font-size: 2rem;
                    height: 350px;
                    justify-content: center;
                    align-items: center;
                }
                .total h1{
                    font-size: 2.1rem;
                }
            }

            @media screen and (max-width:640px) {
                .container{
                    gap: 20px;
                }
                .cart-product{
                    gap: 5px;
                }
                .left-sec img{
                    width: 60px;
                    height: 60px;
                    scale: 1.4;
                }
                .left-cart a{
                    width: 40%;
                }
                .left-sec h1{
                    font-size: 1.8rem;
                }
                .right-sec h4{
                    font-size: 1.5rem;
                }
                .item,.total{
                    padding: 20px;
                }
                .name-part h3{
                    font-size: 1.6rem;
                }
                .name-part button{
                    font-size: 1.4rem;
                }
                .price-sec span{
                    font-size: 1.5rem;
                    font-weight: 600;
                }
            }

            @media screen and (max-width:550px) {
                .container{
                    gap: 10px;
                }
                .item{
                    gap: 20px;
                }
                .cart-product,.left-cart{
                    width: 100%;
                    height:180px;
                }
                .price-sec{
                    position: absolute;
                    height: auto;
                    left: 45%;
                    top: 25px;
                }
                 a{
                    width: 45%;
                }
                .name-part{
                    width: 55%;
                    padding: 10px 0px;
                }
                .name-part h3,.price-sec span,.name-part button{
                    font-size: 1.6rem;
                }
                .name-part h3{
                    height: 30px;
                    width: 100%;
                    overflow: hidden;
                }
                
                .name-part button{
                    font-size: 1.3rem;
                }
                .partision{
                    width: 2px;
                }
                .left-sec{
                    width: 70%;
                }
                .left-sec img{
                    width: 50px;
                    height: 50px;
                }
                .left-sec h1,.right-sec h4{
                    font-size: 1.2rem;
                    font-weight: 600;
                }
                .right-sec{
                    width: 30%;
                    padding-right:0px ;
                }
                .nocart-div img{
                    width: 100%;
                }
                .nocart-div h2{
                    font-size: 1.2rem;
                }
            }
    </style>
</head>

<body>
    <div class="container">
        <nav>
            <div class="left-sec">
                <img src="happy-bags2/image/Designer__5_-removebg-preview.png" alt="">
                <h1>happy bags</h1>
            </div>
            <div class="right-sec">
                <a href="/index.html">
                    <h4>Home</h4>
                </a>
            </div>
        </nav>
        <div class="line"></div>
        <div class="wrap">
            <div class="item">

            </div>
            <div class="total">
                <h1>total amount</h1>
                <div class="bill">
                    <div class="item-count">
                        <h4>total count</h4>
                        <span id="totalamout">₹0</span>
                    </div>
                    <div class="save">
                        <h4>you save</h4>
                        <span id="saveamout">₹0</span>
                    </div>
                    <div class="othercharge">
                        <h4>other</h4>
                        <span id="otheramout">₹0</span>
                    </div>
                    <div class="line"></div>
                    <div class="lastvalue">
                        <h4>last amount</h4>
                        <span id="lastamout">₹0</span>
                    </div>
                    <button id="chaeckout" onclick="checkout()"> chaeck out</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        const obj = {
            p1: {
                name: "NIKE men blue",
                amonut: 1500,
                save: 300,
                img: "https://assets.ajio.com/medias/sys_master/root/20231130/vOuf/6568a847afa4cf41f5ab7a7b/-473Wx593H-469565051-multi-MODEL.jpg",
                location: "p1.html"
            },
            p2: {
                name:"NIKE men green",
                amonut: 1400,
                save: 140,
                img: "https://assets.ajio.com/medias/sys_master/root/20231130/35WR/6568a0bcddf7791519a7ff3e/-473Wx593H-469565050-multi-MODEL.jpg",
                location: "p2.html"
            },
            p3: {
                name: "Typographic Backpack",
                amonut: 1300,
                save: 130,
                img: "https://assets.ajio.com/medias/sys_master/root/20230815/wEiS/64dad2cbeebac147fcc96da3/-473Wx593H-466460546-pink-MODEL.jpg",
                location: "p3.html"
            },
            p4: {
                name: "JACK & JONES Backpack",
                amonut: 2200,
                save: 220,
                img: "https://assets.ajio.com/medias/sys_master/root/20240413/a2Ye/661a2b9c05ac7d77bb08624d/-473Wx593H-467137440-grey-MODEL.jpg",
                location: "p4.html"
            },
            p5: {
                name: "TIGER MARRON backpack",
                amonut: 4300,
                save: 430,
                img: "https://assets.ajio.com/medias/sys_master/root/20220923/LlK8/632dc8abaeb269dbb3a41b09/-473Wx593H-469256535-multicolor-MODEL.jpg",
                location: "p5.html"
            },
            p6: {
                name: "SKYBAGS CAMPUS'02",
                amonut: 2500,
                save: 250,
                img: "https://skybags.co.in/cdn/shop/products/LPBPCAM2NBL_2_1800x1800.webp?v=1700643974",
                location: "p6.html"
            },
            p7: {
                name: "SKYBAGS KLAN PLUS'07 ",
                amonut: 1800,
                save: 180,
                img: "https://skybags.co.in/cdn/shop/files/1_6_cfae77ab-fbfb-4641-a71b-8a8f91ffc8b7_1800x1800.png?v=1707918171",
                location: "p7.html"
            }
        }

        var totalamountofprd;
        var item = [];

        const localStorageKeys = Object.keys(localStorage);

        const keysStartingWithP = localStorageKeys.filter(key => key.startsWith('p'));

        for (i = 0; i < keysStartingWithP.length; i++) {
            item.push(keysStartingWithP[i]);
        }






        function showitem() {

            if (item.length != 0) {
                document.querySelector(".item").innerHTML = "";

                for (var i = 0; i < item.length; i++) {
                    var itemid = item[i];
                    // console.log(item);


                    // this is a new dic process start form here 

                    const itemDiv = document.querySelector(".item")
                    // console.log(obj[itemid].img);


                    const newDiv = document.createElement("div");
                    newDiv.className = "cart-product"
                    itemDiv.appendChild(newDiv);

                    newDiv.innerHTML +=
                        `
                            <div class="left-cart">
                                <a href=${obj[itemid].location} >
                                    <img src=${obj[itemid].img} alt="" srcset="" id="image-cart">
                                </a>
                                <div class="partision">
                                </div>
                                <div class="name-part">
                                    <h3>${obj[itemid].name}</h3>
                                            <button value="remove" id=prdid${i}>
                                                                         remove
                                             </button>
                                </div>
                            </div>
                                                    
                                                    
                             <div class="price-sec">
                                 <span  class="priceofitem" onclick="checkvalue()">
                                    ₹${obj[itemid].amonut * localStorage.getItem(itemid)}
                                  </span>
                             </div> `;


                    // here value check funtion call

                    const removediv1 = document.querySelector(`#prdid${i}`)


                    // click funtion in remove item from cart 
                    removediv1.addEventListener("click", function () {
                        var removeid = removediv1.id.slice(5);
                        var demo = localStorage.removeItem(item[removeid]);
                        item.splice(removeid, 1);
                        document.querySelector(".item").innerHTML = "";
                        console.log(item);
                        showitem();
                        totalprice();
                    });


                }
            }


            else {
                console.log("card call")
                const itemDiv = document.querySelector(".item")
                const nocartDiv = document.createElement("div");
                nocartDiv.className = "nocartDiv"
                itemDiv.appendChild(nocartDiv);
                nocartDiv.innerHTML = `<div class="nocart-div">
                                            <img src="https://cdn-icons-png.flaticon.com/512/2762/2762885.png" alt="" style="height:35vh">
                                            <h2> 👻no any product👻</h2>
                                            <h5>please add product in cart</h5>
                                        </div>`
            }

        }
        showitem();

        // here total price of item count function
        const totalamount = document.querySelector("#totalamout");
        const saveamout = document.querySelector("#saveamout");
        const otheramout = document.querySelector("#otheramout");
        const lastamout = document.querySelector("#lastamout");


        function totalprice() {
            var total = 0, save = 0, other = 0, last = 0, totalofone = 0, saveofone = 0;
            if (item.length == 0) {
                totalamount.innerHTML = `₹0`;
                saveamout.innerHTML = `₹0`;
                otheramout.innerHTML = `₹0`;
                lastamout.innerHTML = `₹0`;
            }
            else {
                for (i = 0; i < item.length; i++) {
                    total += (obj[item[i]].amonut * localStorage.getItem(item[i]));
                    save += (obj[item[i]].save * localStorage.getItem(item[i]));
                    other = 0;
                }
                last = total - save + other;
                totalamount.innerHTML = `₹${total}`;
                saveamout.innerHTML = `₹${save}`;
                otheramout.innerHTML = `₹${other}`;
                lastamout.innerHTML = `₹${last}`;
            }
        }

        totalprice();

        // here chackout function code
        function checkout() {
            if(islogin){
                alert("Sorry not confirm your order please try again")
            }
            else{
                alert("Please Loging Go Home Page")
            }
        }

        
    </script>
    <script src="/script.js"></script>
</body>

</html>